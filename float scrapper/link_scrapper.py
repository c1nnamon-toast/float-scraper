from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.action_chains import ActionChains
from selenium.webdriver.common.by import By
import time
import datetime
import logging
import os


def load(drive, link, cookies_agreement=False):
    drive.get(link);

    if cookies_agreement:
        reject_all_span = WebDriverWait(drive, 10).until(EC.element_to_be_clickable((By.XPATH, "//span[text()='Reject All']")));
        reject_all_span.click();
    

def close(drive):
    drive.quit();


def save_to_txt(text, file_name):     
    with open(file_name, 'w', encoding='utf-8') as file:
        file.write('\n'.join(text))


def magic(drive, number_of_pages=5):

    inspect_links = [];

    for i in range(number_of_pages):
        next_page = driver.find_element(By.XPATH, f"//span[@class='market_paging_pagelink' and text()='{i+2} ']")

        WebDriverWait(drive, 10).until(EC.presence_of_all_elements_located((By.CLASS_NAME, "market_listing_item_img_container")));
        image_divs = drive.find_elements(By.CLASS_NAME, 'market_listing_item_img_container');

        for j, div in enumerate(image_divs[:-1]):
            # hover action
            hover = ActionChains(drive).move_to_element(div);
            hover.perform();
            time.sleep(0.01);

            # click action
            button = div.find_element(By.XPATH, ".//a[@href='javascript:void(0)']");
            button.click();
            time.sleep(0.0025);

            popup_menu_item = drive.find_element(By.ID, 'market_action_popup_itemactions').find_element(By.TAG_NAME, 'a');
            inspect_links.append(popup_menu_item.get_attribute('href'));

            logging.info(f"Page #{i + 1}  Lot #{i*10 + j + 1}")


        next_page.click() 
        WebDriverWait(drive, 10).until(EC.presence_of_element_located((By.XPATH, f"//span[@class='market_paging_pagelink active' and text()='{i+2} ']")));       

    return inspect_links;



if __name__ == "__main__":
    logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s | %(levelname)s | %(message)s",
    datefmt="[%d %b] %H:%M:%S",
    filename="logs.log")

    itterations = 1000;
    number_of_pages = 10;

    for i in range(1, itterations + 1):
        print(f"scrape #{i} start | {datetime.datetime.now().strftime('%H:%M:%S [%d %b]')}")
        logging.info(f"Iteration #{i}\n")

        driver = webdriver.Chrome();
        link = ('https://steamcommunity.com/market/listings/730/Tec-9%20%7C%20Avalanche%20%28Minimal%20Wear%29');

        try:
            load(driver, link, True)
        except Exception as crit:
            logging.critical(f"Link didnt load / Cookies agreement didnt appear\n{crit}")
            continue
        
        inspect_links = []
        try:
            inspect_links = magic(driver, number_of_pages);
        except Exception as err:
            logging.error(f"Scaping error \n{err}")
        
        filename = f'./float scrapper/links_{i//10 + 1}./inspect_links_{datetime.datetime.now().strftime("%Y%m%d_%H%M%S")}.txt'
        os.makedirs(os.path.dirname(filename), exist_ok=True)
        save_to_txt(inspect_links, filename)


        print(f"scrape #{i} end | {datetime.datetime.now().strftime('%H:%M:%S [%d %b]')}")
        time.sleep(60);

    close(driver);
'''
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⠤⠄⠒⠒⠈⠉⠉⠉⠉⠐⠒⠒⠒⠂⠤⣤⡄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢻⠒⠤⢀⣀⣀⡀⠄⠄⠠⠠⠤⠤⠤⠒⠊⡸⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠸⡀⠄⠄⢀⠄⠂⠄⠄⠄⠄⠄⠄⠄⠄⡰⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠱⡀⠈⠄⠄⢀⣀⣤⣊⣀⣀⣀⠄⡰⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠻⡼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⠃⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢹⣫⣙⣛⣛⣛⣿⣟⣻⡻⠃⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣿⡟⣯⣽⣾⣿⣟⣻⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣨⣿⣿⣿⣿⣗⣹⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣀⡼⠋⠈⠉⠉⠉⠉⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⡠⠞⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⣠⠶⠋⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⢀⣠⠴⠛⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⢀⣀⣀⡤⠤⠖⠛⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠉⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡀⠄⠄⠄⠄..
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄oil floats on water⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀

⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⢶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⠄⠄⠄⠄⠄
⣿⣿⣿⣿⣿⢟⣯⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢟⣵⣿⣿⣿⣟⣽⣿⣿⣿⣿⡿⢿⣿⣿⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣫⣶⣿⣿⣿⣿⠿⣋⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣹⣿⣿⣿⣿⣯⣾⣿⣿⣿⡿⣋⣷⣿⣿⣿⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣿⣿⣿⣿⠿⣫⣾⣿⣿⣿⣿⣿⣿⡿⣻⣿⣿⣿⣿⣿⡿⣫⣾⣿⣿⣿⡿⢫⣾⣿⣿⣿⣿⡿⣻⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣿⡿⢟⣵⣿⣿⣿⣿⡿⠿⣛⣻⣿⣿⣿⣿⣿⣿⣿⣷⣾⣿⡿⣛⣫⣽⣾⣿⣿⣿⡿⢟⣭⣾⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣿⣤⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣻⣿⣭⣴⣾⣿⣿⣿⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣿⣿⣿⡿⣻⣿⣿⣿⣿⣿⡟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣿⣟⣯⣾⣿⣿⣿⣿⣿⣫⣿⣿⣿⣿⣿⣿⣿⣽⣿⣿⡿⣫⣿⣿⣿⣿⢫⣾⣿⣛⣿⣿⣿⢻⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣟⣿⣿⣿⣿⣵⣾⣷⣿⣟⣿⣞⣽⣿⣟⣾⡿⣫⣞⣿⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⣿⠟⠉⡉⡉⣶⠤⠄⠤⠹⠯⠭⠝⠛⠻⢿⣿⣿⣿⣿⣿⡿⣿⣿⣿⣿⣿⣿⣿⢷⣭⣾⣿⣶⣿⣿⣿⣿⠄⠄⠄⠄⠄
⣿⣿⠏⠄⠄⢘⣥⣤⡤⢄⡀⠄⠄⢂⣀⣈⠄⠄⢿⣿⣿⣿⣷⣾⣿⡿⣿⣿⢟⡿⣷⣿⣿⢿⣿⣿⢿⣽⣿⣿⠄⠄⠄⠄⠄
⡿⢋⡤⣲⠬⣘⣫⠽⠛⠺⠓⠄⢲⠟⠛⡋⣉⣁⡄⢽⣿⣿⣿⣿⣿⣿⣿⣽⣿⣵⣿⣿⣿⣾⣿⢍⣾⣿⣿⣿⠄⠄⠄⠄⠄
⡤⠻⠐⢯⡓⢦⣄⣀⡀⣖⠦⠄⡈⣹⠦⠍⣡⣧⠈⡾⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠄⠄⠄⠄⠄
⠘⢶⠄⠈⢿⣹⢷⣤⣼⡉⠓⠒⠛⡗⠒⣎⣯⣿⢸⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠣⡀⠄⠙⠦⣀⡏⠙⠛⡟⢻⡿⢿⢿⣿⡿⢸⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠈⣒⣷⣣⠔⢭⠙⡒⠳⠾⠶⠟⢛⠩⠄⠘⡁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⣠⠟⠁⣿⠈⠿⡷⢦⣈⣁⠄⠄⠄⠄⠄⠁⣰⠃⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⡴⠛⠁⠄⠄⣷⠄⠄⠙⢦⠄⠄⠉⠉⠓⠒⠊⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⣿⠄⠄⠄⠈⢷⡀⠄⣀⠄⡄⠄⠄⠄⠄⠄⠄⠄⡀⠄⡤⠄⠄⠄⠄⠄⢀⠄⢀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⡿⠄⠄⠄⠄⠄⢧⠄ ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄wait for it to rain
⠄⠄⠄⠄⢸⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠸⠇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄

                        cover yourself in oil
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⣤⠖⠒⠒⣒⠶⠒⠒⠲⠶⠒⣶⣶⣤⠤⣤⣀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡰⠟⠄⠠⣐⠹⠦⠉⠒⠒⢀⠁⠐⠒⠂⠤⠄⠍⡀⠓⢦⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣠⡞⠄⠄⠄⣀⢨⣾⣿⣿⣛⡳⣦⠄⢀⣘⣤⣴⣦⣦⡄⠄⢘⢧⣀⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡜⠋⣴⠞⢻⡛⠶⠦⠴⠞⠄⠈⠙⠋⠄⠈⢹⡉⠉⢀⣀⣴⠶⠕⡁⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢇⠄⢧⠒⢻⡉⠓⢶⣄⣀⡀⠐⣟⣫⣤⠄⠈⣹⠷⠄⡈⢁⣧⢐⡣⡿⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣴⠻⣆⠄⠄⠙⣯⢻⠷⣦⣤⣿⡉⠛⢛⠒⠻⣶⠒⢺⣏⣿⣿⠄⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠘⢧⡈⠄⠈⠛⣄⡀⣹⠟⠛⠛⢿⠿⢿⣿⢿⣿⣿⣿⣿⠄⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣴⠄⠄⠹⢶⣗⣴⡢⠉⡛⠶⢤⠤⣿⣀⣼⣡⡼⣥⠿⠾⠃⠄⢈⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠚⠄⠄⠄⠈⠉⠘⠚⠮⣍⡐⠄⠂⠤⠉⠙⠓⢒⢀⡨⢒⡴⣼⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⡴⢛⠟⠛⢿⠶⠤⣤⣀⣄⣀⣠⣷⠞⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠚⠄⠄⠄⠄⠄⠄⡴⠋⢀⡞⠄⠄⠄⢷⣄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣹⠄⠄⠄⢀⣤⠚⠄⠄⡼⠃⠄⠄⠄⠄⠙⠳⣤⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⡾⠃⠄⠄⢰⡇⠄⠄⠄⠄⠄⠄⠄⠈⣧⠄⠄⠄⠚⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠈⠁⠄⠄⠄⢸⠁⠄⣴⠄⠄⠄⠄⠄⠄⠈⠄⠄⠄⠄⠚⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢼⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣏⠚⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠘⡆⠄⠄⠄⠄⠄⣏⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣴⠄⠄⠄⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣴⠄⠄⣠⣿⣀⠄⠄⠄⣹⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢠⠋⠄⠄⠄⠙⢶⡄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢰⠟⠄⠄⠄⠄⠄⠄⠹⣄⠄⠄⠄⠄⣧⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣠⠏⠄⠄⠄⠄⠄⠄⠄⠄⠙⢷⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣰⠏⠄⠠⠄⠠⢤⣤⡴⠄⣀⣄⠈⣷⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⢀⠄⠏⠄⠄⠐⠃⠄⠙⠛⠛⠛⠛⠛⠄⠈⠐⠛⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄

⣀⣀⠄⠄⠄⠄⠄⠄⠄⠘⠶⠤⠤⠄⠄⠄⠄⢀⠄⢀⠄⢀⣀⣀⡀⠄⠄⠄⠄⠄⠄⣀⢀⣀⣀⣠⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠉⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢴⣴⠶⠚⠉⠁⠘⠓⠋⠉⠉⠄⠄⠄⠄⠄⠄⠄⠉⠉⠉⠉⠉⠄⠄⠄⠄⢶⣤⣠⡖⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠂⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⣠⠗⠄⠄⠄⠖⡭⠭⠿⢅⡠⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⡀⠄⠄⠄⣄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠰⠾⢿⠄⣄⣀⣸⢸⣸⠄⠄⢂⠱⢆⡄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⡈⠉⠄⠄⠄⠁⣲⠆⣀⣀⣀⠄⠄⠄⠄⠄⠄⠄⠄⢈⣱⣟⢥⣿⡸⠤⢆⡀⠄⡰⠌⡁⠠⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠈⠄⠄⠠⠄⠄⠙⠃⠉⠓⠂⢓⠦⣤⣆⡤⠴⡒⠒⠚⠉⢀⣰⠈⢶⣧⠄⢳⣄⣠⡖⠃⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠉⠄⠄⠄⠄⠛⠻⠶⠤⠤⠛⠙⠂⠉⠁⠄⠄⠄⠄⠄⠃⣿⣄⠄⠢⠓⠈⢛⠕⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠗⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⠄⠄⠄⠠⢀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄fly⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣠⡄⠄⠄⠄⠄⠄⠄⠄⠄
⠄⣤⣤⣤⣤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣿⡇⠄⠄⠄⠄⣿⣿⡿⣷
⠄⣿⣾⡤⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣶⣾⣿⣿⣷⣶⠄⠄⣿⣿⡗⣿
⠄⣿⣾⣶⣟⣀⣤⣤⣤⣾⢿⡿⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣠⣶⣦⣶⣶⣤⣿⣿⣏⣹⣏⣿⠄⠄⣿⣿⡗⣿
⣠⣿⣿⣦⣿⢿⣹⣏⣿⣿⢾⡷⣿⠄⠄⠄⠄⠄⠄⠄⣶⢶⡷⣷⡆⠄⠄⢹⣧⣿⣿⣤⣿⣿⣿⣯⣹⣏⣿⠄⠄⣿⣿⣿⣿
⣹⣿⣿⣿⣿⢿⣉⣯⣹⣿⢾⡷⣿⠄⠄⣤⣶⡦⠄⠄⣿⢻⡗⣿⠄⠄⠄⢺⣍⣿⣿⣉⣿⣿⣿⣏⣹⣏⣿⣆⣰⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣽⣿⣿⣿⣿⣾⣷⣿⣄⢀⣿⣿⣤⠂⠄⣿⢻⡟⣿⡆⠄⠄⣼⣿⣿⣿⣿⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
'''